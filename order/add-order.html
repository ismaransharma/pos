<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <!-- Hamburger -->
    <button
      class="hamburger"
      aria-label="Toggle menu"
      aria-expanded="false"
      aria-controls="sidebar"
      id="hamburgerBtn"
    >
      ☰
    </button>

    <!-- Sidebar -->
    <aside class="sidebar closed py-3" id="sidebar">
      <nav>
        <div class="sidebar-section">
          <h6 class="sidebar-title">Dashboard</h6>
          <ul class="nav flex-column">
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../index.html">Home</a>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Vendor</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../vendor/list-vendor.html"
                >List Vendor</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../vendor/add-vendor.html"
                >Add Vendor</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Product</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../product/list-product.html"
                >List Product</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../product/add-product.html"
                >Add Product</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Category</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../category/list-category.html"
                >List Category</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../category/add-category.html"
                >Add Category</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">
            Order Management
          </button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../customer/customer.html"
                >Customer</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="list-order.html">List Order</a>
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3 active" href="add-order.html"
                >Add Order</a
              >
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- Overlay -->
    <div id="overlay"></div>

    <!-- Main Content Section -->
    <main class="content" style="margin-left: 16rem">
      <section id="wrapper" class="py-3">
        <div class="container-fluid">
          <!-- Category Grid -->
          <div class="row mb-4" id="category-grid">
            <h4 class="mb-3">Select Category</h4>
            <!-- Example Category Card -->
            <div class="col-md-3">
              <div
                class="card bg-dark text-white category-card"
                data-category="drinks"
                style="cursor: pointer"
              >
                <img
                  src="https://images.immediate.co.uk/production/volatile/sites/30/2023/10/GF01115BackPagePSOCocktailspreview-829355e.jpg?quality=90&resize=556,505"
                  class="card-img"
                  alt="Drinks"
                />
                <div
                  class="card-img-overlay d-flex align-items-end p-2 bg-overlay"
                >
                  <h5 class="card-title mb-0">Drinks</h5>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div
                class="card bg-dark text-white category-card"
                data-category="snacks"
                style="cursor: pointer"
              >
                <img
                  src="https://img.freepik.com/premium-photo/variation-different-unhealthy-snacks-crackers-sweet-salted-popcorn-tortillas-nuts-straws-bretsels_136595-3540.jpg?semt=ais_hybrid&w=740"
                  class="card-img"
                  alt="Snacks"
                />
                <div
                  class="card-img-overlay d-flex align-items-end p-2 bg-overlay"
                >
                  <h5 class="card-title mb-0">Snacks</h5>
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div
                class="card bg-dark text-white category-card"
                data-category="dairy"
                style="cursor: pointer"
              >
                <img
                  src="https://t4.ftcdn.net/jpg/01/45/60/21/360_F_145602173_05uVexifBuCvWIKvsHGWNuIpPtp5ShkI.jpg"
                  class="card-img"
                  alt="Dairy"
                />
                <div
                  class="card-img-overlay d-flex align-items-end p-2 bg-overlay"
                >
                  <h5 class="card-title mb-0">Dairy</h5>
                </div>
              </div>
            </div>
          </div>

          <!-- Product Section -->
          <div class="row" id="product-section" style="display: none">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h4 id="selected-category-title">Category Name</h4>
              <button
                class="btn btn-sm btn-outline-secondary"
                id="back-to-categories"
              >
                ← Back
              </button>
            </div>

            <div class="row" id="product-list">
              <!-- Example Product -->
              <!-- Injected dynamically -->
            </div>
          </div>
        </div>
      </section>
    </main>

    <style>
      .bg-overlay {
        background: rgba(0, 0, 0, 0.4);
      }

      img.card-img {
        height: 10em;
        object-fit: cover;
      }
    </style>

    <script>
      const products = {
        drinks: [
          { id: 1, title: "Orange Juice", price: 120 },
          { id: 2, title: "Lemonade", price: 90 },
        ],
        snacks: [
          { id: 3, title: "Chips", price: 50 },
          { id: 4, title: "Cookies", price: 70 },
        ],
        dairy: [
          { id: 5, title: "Milk", price: 60 },
          { id: 6, title: "Cheese", price: 150 },
        ],
      };

      const categoryCards = document.querySelectorAll(".category-card");
      const productSection = document.getElementById("product-section");
      const categoryGrid = document.getElementById("category-grid");
      const productList = document.getElementById("product-list");
      const selectedCategoryTitle = document.getElementById(
        "selected-category-title"
      );

      categoryCards.forEach((card) => {
        card.addEventListener("click", () => {
          const category = card.dataset.category;
          showProducts(category);
        });
      });

      document
        .getElementById("back-to-categories")
        .addEventListener("click", () => {
          productSection.style.display = "none";
          categoryGrid.style.display = "flex";
        });

      function showProducts(category) {
        categoryGrid.style.display = "none";
        productSection.style.display = "block";
        selectedCategoryTitle.textContent =
          category.charAt(0).toUpperCase() + category.slice(1);
        productList.innerHTML = "";

        products[category].forEach((product) => {
          const html = `
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5>${product.title}</h5>
              <p>Price: Rs ${product.price}</p>
              <button class="btn btn-sm btn-success add-to-order" data-id="${product.id}" data-title="${product.title}" data-price="${product.price}">Add to Order</button>
            </div>
          </div>
        </div>
      `;
          productList.innerHTML += html;
        });
      }

      // Add-to-order button (you can connect this to your form logic)
      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("add-to-order")) {
          const { id, title, price } = e.target.dataset;
          alert(`Added "${title}" (Rs ${price}) to order.`);
          // Integrate with order form here if needed
        }
      });
    </script>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../chart.js"></script>
    <script src="../navbar.js"></script>
    <script src="../order-script.js"></script>
  </body>
</html>
