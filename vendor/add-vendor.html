<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <!-- Hamburger -->
    <button
      class="hamburger"
      aria-label="Toggle menu"
      aria-expanded="false"
      aria-controls="sidebar"
      id="hamburgerBtn"
    >
      â˜°
    </button>

    <!-- Sidebar -->
    <aside class="sidebar closed py-3" id="sidebar">
      <nav>
        <div class="sidebar-section">
          <h6 class="sidebar-title">Dashboard</h6>
          <ul class="nav flex-column">
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../index.html">Home</a>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Vendor</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="list-vendor.html">List Vendor</a>
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3 active" href="add-vendor.html"
                >Add Vendor</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Product</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../product/list-product.html"
                >List Product</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../product/add-product.html"
                >Add Product</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">Category</button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../category/list-category.html"
                >List Category</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../category/add-category.html"
                >Add Category</a
              >
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <button class="sidebar-toggle" aria-expanded="false">
            Order Management
          </button>
          <ul class="nav flex-column" hidden>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../customer/customer.html"
                >Customer</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../order/list-order.html"
                >List Order</a
              >
            </li>
            <li class="nav-item submenu">
              <a class="nav-link mx-3" href="../order/add-order.html"
                >Add Order</a
              >
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- Overlay -->
    <div id="overlay"></div>

    <!-- Main content -->
    <main class="content p-4">
      <h1>Add Vendor</h1>
      <form id="addVendorForm" class="mb-4">
        <div class="mb-3">
          <label for="vendorName" class="form-label">Vendor Name</label>
          <input type="text" class="form-control" id="vendorName" required />
        </div>
        <div class="mb-3">
          <label for="vendorEmail" class="form-label">Email</label>
          <input type="email" class="form-control" id="vendorEmail" required />
        </div>
        <div class="mb-3">
          <label for="vendorPhone" class="form-label">Phone</label>
          <input type="text" class="form-control" id="vendorPhone" required />
        </div>
        <button type="submit" class="btn btn-primary">Add Vendor</button>
      </form>
    </main>

    <script>
      document
        .getElementById("addVendorForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Get form values
          const name = document.getElementById("vendorName").value.trim();
          const email = document.getElementById("vendorEmail").value.trim();
          const phone = document.getElementById("vendorPhone").value.trim();

          if (!name || !email || !phone) return alert("Please fill all fields");

          // Retrieve vendors array from localStorage or create it
          let vendors = JSON.parse(localStorage.getItem("vendors") || "[]");

          // Create new vendor object with a unique id (timestamp)
          const newVendor = {
            id: Date.now(),
            name,
            email,
            phone,
          };

          // Add new vendor to the array
          vendors.push(newVendor);

          // Save back to localStorage
          localStorage.setItem("vendors", JSON.stringify(vendors));

          alert("Vendor added successfully!");

          // Reset form
          this.reset();
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../chart.js"></script>
    <script src="../navbar.js"></script>
  </body>
</html>
